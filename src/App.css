
/* =========================================
   1. SETARI GENERALE & RESET
   ========================================= */
* {
  box-sizing: border-box; /* ESENTIAL */
}

html {
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;
  overflow: hidden;
}

/* Container-ul principal */
.app-container {
  background-color: #1e1e1e !important;
  overflow: hidden;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  transition: background 0.5s ease;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100vh;
  height: 100dvh; /* Dynamic viewport height pentru mobile */
  max-width: 100vw;
  margin: 0;
  padding: 0;
  z-index: 1;
}

/* TEME DE CULOARE */
.theme-default { background-color: #1e1e1e; }
.theme-ocean { background: linear-gradient(135deg, #0f2027, #203a43, #2c5364); }
.theme-forest { background: linear-gradient(135deg, #134e5e, #71b280); }
.theme-sunset { background: linear-gradient(135deg, #451e3e, #651e3e, #851e3e); }
.theme-cyber { background: linear-gradient(135deg, #2b003e, #1a0029); }

/* =========================================
   2. HEADER (Full Width)
   ========================================= */
.header-bar {
  background-color: rgba(0,0,0,0.4);
  padding: 15px 10px; /* Padding mic lateral */
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-weight: bold;
  font-size: 1.2rem;
  border-bottom: 1px solid rgba(255,255,255,0.1);
  flex-shrink: 0; 
  width: 100%;
  backdrop-filter: blur(5px);
}

.real-time-clock {
  background-color: #000;
  padding: 5px 10px;
  border-radius: 15px;
  font-size: 0.9rem;
  color: #00ffcc;
  border: 1px solid #333;
  box-shadow: inset 0 0 5px rgba(0, 255, 204, 0.2);
  margin-left: 10px;
}

/* --- CONTINUT PRINCIPAL: MARGINE MINIMA (5px) --- */
.main-content {
  flex: 1;
  overflow-y: auto;
  padding: 5px; /* <--- DOAR 5px DISTANTA DE MARGINE */
  position: relative;
  display: block;
  width: 100%;
}

/* =========================================
   3. NAVIGATIE (MENIU JOS)
   ========================================= */
.nav-bar {
  background-color: rgba(0,0,0,0.4);
  border-top: 1px solid rgba(255,255,255,0.1);
  display: flex;
  justify-content: space-around;
  padding: 5px 0;
  flex-shrink: 0;
  width: 100%;
  backdrop-filter: blur(5px);
}

.nav-item {
  background: none; border: none; color: rgba(255,255,255,0.7);
  font-size: 1.5rem; cursor: pointer; display: flex; flex-direction: column; align-items: center; gap: 2px; padding: 10px; border-radius: 10px; 
}
.nav-item span { font-size: 0.7rem; }
.nav-item.active { color: #ffd700; background-color: rgba(255, 215, 0, 0.1); }

/* =========================================
   4. ECRANE (FOCUS - FULL WIDTH)
   ========================================= */

.focus-screen {
  display: flex; 
  flex-direction: column; 
  align-items: center; 
  width: 100%; 
  /* Fara padding extra, folosim cei 5px de la main-content */
}

/* Ceas si Pet */
.timer-display { font-size: 5rem; font-weight: bold; color: #ffd700; text-shadow: 0 0 15px rgba(0, 0, 0, 0.8); margin: 0; line-height: 1; }
.pet-wrapper { position: relative; display: flex; justify-content: center; margin-top: 50px; margin-bottom: 10px; }
.mini-pet { font-size: 7rem; animation: float 3s infinite ease-in-out; filter: drop-shadow(0 5px 10px rgba(0,0,0,0.5)); }
.pet-wrapper:active .mini-pet { transform: scale(0.9); }

/* BULELE DE TEXT */
.speech-bubble {
  position: absolute; top: -50px; left: 50%; transform: translateX(-50%);
  background-color: white; color: #333; padding: 8px 12px; border-radius: 15px; font-size: 0.9rem; font-weight: bold; white-space: nowrap; box-shadow: 0 5px 15px rgba(0,0,0,0.3); z-index: 20;
}
.speech-bubble::after { content: ''; position: absolute; bottom: -6px; left: 50%; transform: translateX(-50%); border-width: 6px 6px 0; border-style: solid; border-color: white transparent transparent transparent; }

/* --- BUTOANELE DE TIMP (LINIA 1) --- */
.timer-controls { 
  display: flex; 
  width: 100%; 
  gap: 5px; /* Spatiu mic intre ele */
  margin-bottom: 15px; 
}
.time-btn { 
  background-color: rgba(0,0,0,0.6); color: #fff; border: 1px solid #555; 
  padding: 12px 0; 
  border-radius: 10px; cursor: pointer; font-size: 1rem; backdrop-filter: blur(4px); 
  flex: 1; /* Se intind egal */
  text-align: center;
}
.custom-time-input { 
  background-color: rgba(0,0,0,0.6); border: 1px solid #555; color: white; 
  padding: 0; border-radius: 10px; width: 60px; text-align: center; backdrop-filter: blur(4px); font-size: 1rem;
}

/* --- BUTOANELE START/RESET (LINIA 2) --- */
/* Acesta clasa trebuie sa existe in App.jsx (vezi mai jos) */
.focus-actions {
  display: flex;
  width: 100%;
  gap: 10px;
  margin-bottom: 15px;
}
.btn-primary { 
  background: #2196F3; color: white; border: none; 
  padding: 15px 0; 
  border-radius: 10px; cursor: pointer; font-weight: bold; font-size: 1.2rem;
  flex: 3; /* Butonul mare ocupa 75% */
}
.btn-reset {
  background: #f44336; color: white; border: none;
  padding: 15px 0;
  border-radius: 10px; cursor: pointer; font-weight: bold; font-size: 1.2rem;
  flex: 1; /* Butonul mic ocupa 25% */
}

/* --- INPUT ADD TASK (LINIA 3) --- */
.input-row { display: flex; width: 100%; gap: 10px; margin-bottom: 15px; align-items: center; }
.input-dark { flex: 1; padding: 15px; border-radius: 10px; border: none; background: rgba(0,0,0,0.6); color: white; backdrop-filter: blur(5px); font-size: 1rem; }
.btn-add { background: #2196F3; color: white; border: none; padding: 10px 15px; border-radius: 10px; cursor: pointer; font-weight: bold; font-size: 1.2rem; display: flex; align-items: center; justify-content: center; min-width: 50px; height: fit-content;}

/* LISTA TASKURI */
.task-list { list-style: none; padding: 0; width: 100%; margin: 0; }
.task-row { background: rgba(0,0,0,0.6); padding: 15px; margin-bottom: 5px; border-radius: 10px; display: flex; justify-content: space-between; align-items: center; backdrop-filter: blur(5px); width: 100%; font-size: 1.1rem; }
.btn-success { background: transparent; border: 1px solid #4CAF50; color: #4CAF50; padding: 5px 10px; border-radius: 5px; cursor: pointer; font-size: 1.2rem; }


/* =========================================
   5. INSULA (FULL WIDTH)
   ========================================= */
.island-wrapper { width: 100%; display: flex; flex-direction: column; height: 100%; }
.island-scene {
  background: linear-gradient(180deg, #2b32b2 0%, #1488cc 100%);
  border-radius: 15px; flex: 1; min-height: 250px; 
  display: flex; justify-content: center; align-items: center; position: relative; overflow: hidden; width: 100%;
}
.island-ground { position: absolute; bottom: 0; width: 100%; height: 50px; background-color: #4CAF50; }
.big-pet { font-size: 9rem; z-index: 2; cursor: pointer; transition: transform 0.2s; filter: drop-shadow(0 10px 10px rgba(0,0,0,0.3)); }
.big-pet:active { transform: scale(1.1); }
.stats-container { width: 100%; margin: 10px 0; background: rgba(0,0,0,0.5); padding: 10px; border-radius: 10px; backdrop-filter: blur(5px); }
.stat-bar { display: flex; align-items: center; margin-bottom: 5px; gap: 10px; font-size: 0.9rem; }
.progress-bg { flex: 1; height: 12px; background-color: rgba(255,255,255,0.1); border-radius: 6px; }
.progress-fill { height: 100%; border-radius: 6px; transition: width 0.3s; }
.island-actions { display: flex; gap: 5px; width: 100%; }
.action-btn { flex: 1; font-size: 1.5rem; padding: 10px 0; background: rgba(0,0,0,0.6); border-radius: 10px; border: 1px solid #555; cursor: pointer; backdrop-filter: blur(5px); text-align: center; }


/* =========================================
   6. SHOP (FULL WIDTH - GRID REPARAT)
   ========================================= */
.shop-screen { width: 100%; }
.shop-section-title { margin-top: 15px; margin-bottom: 10px; color: #ccc; border-bottom: 1px solid #444; padding-bottom: 5px; font-size: 1.1rem; }

/* 2 COLOANE STRANSE */
.shop-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; width: 100%; }
.shop-item { background-color: rgba(0,0,0,0.6); border-radius: 10px; padding: 15px; text-align: center; border: 1px solid transparent; backdrop-filter: blur(5px); width: 100%; display: flex; flex-direction: column; align-items: center; gap: 8px; }
.shop-item.owned { border-color: #4CAF50; }
.shop-icon { font-size: 3rem; margin-bottom: 5px; display: block; }
.theme-preview { width: 40px; height: 40px; border-radius: 50%; border: 2px solid #fff; margin-bottom: 5px; }
.bg-preview { width: 100%; height: 60px; border-radius: 8px; margin-bottom: 5px; border: 1px solid #555; background-size: cover; background-position: center; }
.shop-name { font-weight: bold; font-size: 0.9rem;}
.shop-price { color: #ffd700; font-size: 0.8rem; margin-bottom: 5px; }
.btn-buy, .btn-equip, .btn-equipped { width: 100%; padding: 18px 0; border-radius: 10px; border: none; font-weight: bold; cursor: pointer; font-size: 1.2rem; transition: opacity 0.2s; position: relative; z-index: 1;}
.btn-buy { background-color: #ff9800; color: white; }
.btn-buy:disabled { background-color: #666; color: #999; cursor: not-allowed; opacity: 0.6; }
.btn-equip { background-color: #2196F3; color: white; }
.btn-equipped { background-color: #4CAF50; color: white; }


/* =========================================
   7. CALENDAR (FULL WIDTH)
   ========================================= */
.calendar-screen { display: flex; flex-direction: column; height: 100%; width: 100%; }
.calendar-nav { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; background-color: rgba(0,0,0,0.5); padding: 5px; border-radius: 10px; backdrop-filter: blur(5px); width: 100%; }
.calendar-nav h2 { flex: 1; text-align: center; font-size: 1rem; margin: 0; } 
.nav-btn { background: none; border: 1px solid #555; color: white; font-size: 0.9rem; padding: 5px 10px; border-radius: 6px; min-width: 60px; }
.calendar-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 3px; flex: 1; width: 100%; }
.cal-header { text-align: center; font-weight: bold; color: #ddd; padding-bottom: 5px; border-bottom: 1px solid rgba(255,255,255,0.1); font-size: 0.8rem; }
.cal-day { background-color: rgba(0,0,0,0.5); border-radius: 6px; padding: 2px; min-height: 50px; cursor: pointer; display: flex; flex-direction: column; border: 1px solid transparent; overflow: hidden; backdrop-filter: blur(5px); }
.cal-day.today { border: 1px solid #00ffcc; background-color: rgba(0, 255, 204, 0.1); }
.day-number { font-weight: bold; font-size: 0.8rem; display: flex; justify-content: space-between; padding: 2px; }
.today-label { font-size: 0.6rem; color: #00ffcc; font-weight: bold; }
.event-chip { font-size: 0.6rem; padding: 1px 2px; border-radius: 2px; margin-top: 1px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; color: white; text-align: left; }
.event-chip.test { background-color: rgba(244, 67, 54, 0.8); border-left: 2px solid #f44336; }
.event-chip.session { background-color: rgba(255, 152, 0, 0.8); border-left: 2px solid #ff9800; }

/* MODAL */
.modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.8); display: flex; justify-content: center; align-items: center; z-index: 200; backdrop-filter: blur(3px); }
.modal-content { background-color: #2c2c2c; padding: 20px; border-radius: 15px; width: 95%; max-width: 400px; border: 1px solid #444; }

/* =========================================
   8. RESPONSIVE PC (GRID LAYOUT)
   ========================================= */
@media (min-width: 800px) {
  body { background-image: url('https://images.unsplash.com/photo-1519681393784-d120267933ba?q=80&w=2070&auto=format&fit=crop'); }
  .app-container { width: 90vw; height: 85vh; max-width: 1200px; border-radius: 25px; display: grid; grid-template-columns: 1fr 100px; grid-template-rows: auto 1fr; grid-template-areas: "header menu" "content menu"; }
  .shop-grid { grid-template-columns: repeat(auto-fill, minmax(130px, 1fr)); }
  .nav-bar { grid-area: menu; grid-column: 2 / 3; grid-row: 1 / 3; flex-direction: column; width: 100%; border-top: none; border-left: 1px solid rgba(255,255,255,0.1); justify-content: flex-start; padding-top: 20px; gap: 20px; }
  .header-bar { grid-area: header; grid-column: 1 / 2; width: 100%; border-bottom: 1px solid rgba(255,255,255,0.1); padding-right: 20px; }
  .main-content { grid-area: content; grid-column: 1 / 2; margin-top: 0; padding: 40px; display: block; }
  .cal-day { padding: 10px; min-height: 100px; }
}